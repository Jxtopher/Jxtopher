<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="../_static/favicon/favicon.svg" rel="icon" type="image/svg+xml">
    <link href="../_static/favicon/favicon-48x48.png" sizes="48x48" rel="icon" type="image/png">
    <link href="../_static/favicon/favicon-64x64.png" sizes="64x64" rel="icon" type="image/png">
    <link rel="apple-touch-icon" href="../_static/favicon/favicon-128x128.png" sizes="128x128" type="image/png">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HKPZNDVNZZ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-HKPZNDVNZZ');
    </script>
    <link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>Managing storage volumes - Eggdoc</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/eggdoc.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Eggdoc</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/logo-light-mode.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/logo-dark-mode.svg" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../curiosity/index.html">Curiosity</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Curiosity</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../curiosity/TSP.html">Travelling salesman problem</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../curiosity/game-of-life.html">Game of life</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Game of life</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../curiosity/game-of-life/plot_n3/plot_n3.html">n = 3, <span class="math notranslate nohighlight">\(uniq_{count}\)</span> = 51</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../curiosity/n-queens-with-sat-solver.html">N-Queens with SAT Solver</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../curiosity/peaceable-armies-of-queens.html">Peaceable Armies of Queens</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Peaceable Armies of Queens</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../curiosity/peaceable-armies-of-queens/plot_n4/plot_n4.html">n = 4, count = 112</a></li>
<li class="toctree-l3"><a class="reference internal" href="../curiosity/peaceable-armies-of-queens/plot_n5/plot_n5.html">n = 5, count = 18</a></li>
<li class="toctree-l3"><a class="reference internal" href="../curiosity/peaceable-armies-of-queens/plot_n6/plot_n6.html">n = 6, count = 560</a></li>
<li class="toctree-l3"><a class="reference internal" href="../curiosity/peaceable-armies-of-queens/plot_n7/plot_n7.html">n = 7, count = 304</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../dev/index.html">Dev</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Dev</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev/analyze%20forensic.html">Tooling for analyze forensic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/app%20configuration.html">App configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/call%20function%20in%20c.html">Call function in C</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/debugging-with-gdb.html">Debugging with GDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/getting-started-apache-kafka.html">Getting started - Apache Kafka</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/nasm%20hellworld.html">NASM - Hello, World</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/profiling-tools.html">Profiling tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/pyplot-snippet.html">Pyplot snippet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/regular%20expression.html">Regular expression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/reverse-engineering.html">Reverse engineering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/shellcode%20windows.html">Shellcode for windows</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../sysadmin/index.html">SysAdmin</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of SysAdmin</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../sysadmin/data/index.html">Data management</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Data management</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../sysadmin/data/backup%20and%20integrity.html">Backup and integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sysadmin/data/mdadm.html">Software raid - mdadm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sysadmin/data/zpool.html">zpool setup</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../sysadmin/shell/index.html">Shell</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Shell</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../sysadmin/shell/monitoring-tools.html">Monitoring tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sysadmin/shell/netkit.html">Lab of network - netkit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sysadmin/shell/tmux.html">Tmux</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sysadmin/chroot%20jail.html">chroot jail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysadmin/db%20disk%20footprint.html">Database disk footprint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysadmin/firefox-configuration.html">Firefox configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysadmin/initramfs.html">Initramfs mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysadmin/lxc.html">Containers with LXC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysadmin/nginx.html">nginx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysadmin/server%20config.html">Server config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysadmin/tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sysadmin/workstation%20config.html">Workstation config</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="managing-storage-volumes">
<h1>Managing storage volumes<a class="headerlink" href="#managing-storage-volumes" title="Link to this heading">¶</a></h1>
<section id="disk-partitioning">
<h2>Disk partitioning<a class="headerlink" href="#disk-partitioning" title="Link to this heading">¶</a></h2>
<p>Partition utility <code class="docutils literal notranslate"><span class="pre">gparted</span></code> (Gui) and <code class="docutils literal notranslate"><span class="pre">fdisk</span></code> (Cli)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ fdisk -l
Disk /dev/sda: 931.51 GiB, 1000204886016 bytes, 1953525168 sectors
Disk model: Samsung SSD 870
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: 3A3750B4-A1B5-11ED-A568-F89E9481ADCF

Device     Start        End    Sectors   Size Type
/dev/sda1   2048 1953523711 1953521664 931.5G Linux filesystem
</pre></div>
</div>
<p>Exemple de création d’une partition primaire :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Commande (m pour l&#39;aide): n
Action de commande
l   logique (5 ou plus)
p   partition primaire (1-4)
p
Numéro de partition (1-4): 4
Premier cylindre (6749-14946, par défaut 6749):
Utilisation de la valeur par défaut 6749
Dernier cylindre ou +taille or +tailleM ou +tailleK (6749-8017, par défaut 8017)  : +5M

soit : &#39;n&#39; pour créer une nouvelle partition, ’p’ pour partition primaire, ’4’ sera notre numéro de partition primaire puis on choisi le premier cylindre et la taille de la nouvelle partition (5Mo).
</pre></div>
</div>
</section>
<section id="creer-un-systeme-de-fichiers">
<h2>Créer un système de fichiers<a class="headerlink" href="#creer-un-systeme-de-fichiers" title="Link to this heading">¶</a></h2>
<p>Nous avons créé une ou plusieurs partitions avec fdisk. maintenant pour pouvoir les utiliser, il faut créer les systèmes de fichiers correspondants.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkfs.bfs
mkfs.cramfs
mkfs.ext2
mkfs.ext3
mkfs.minix
mkfs.msdos<span class="w"> </span>-&gt;<span class="w"> </span>mkdosfs
mkfs.reiserfs
mkfs.vfat<span class="w"> </span>-&gt;<span class="w"> </span>mkdosfs
</pre></div>
</div>
<p>Utiliser mkfs.ext3 pour formater la partition en ext3 :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkfs.ext3<span class="w"> </span>/dev/sda5
</pre></div>
</div>
<p>Pour vérifier l’intégrité de la partition en même temps que le formatage avec l’option -c</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkfs.ext3<span class="w"> </span>-c<span class="w"> </span>/dev/sda5
</pre></div>
</div>
<section id="cree-des-volumes-zfs">
<h3>Crée des volumes zfs<a class="headerlink" href="#cree-des-volumes-zfs" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>linux-headers-<span class="k">$(</span>uname<span class="w"> </span>-r<span class="k">)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ln<span class="w"> </span>-s<span class="w"> </span>/bin/rm<span class="w"> </span>/usr/bin/rm
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>zfs-dkms
</pre></div>
</div>
</section>
</section>
<section id="verifier-un-systeme-de-fichiers">
<h2>Vérifier un système de fichiers<a class="headerlink" href="#verifier-un-systeme-de-fichiers" title="Link to this heading">¶</a></h2>
<p>Pour vérifier l’intégrité d’un système de fichiers, utilise les commandes fsck.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fsck
fsck.cramfs
fsck.ext2
fsck.ext3
fsck.minix
fsck.msdos<span class="w"> </span>-&gt;<span class="w"> </span>dosfsck
fsck.nfs
fsck.reiserfs
fsck.vfat<span class="w"> </span>-&gt;<span class="w"> </span>dosfsck
</pre></div>
</div>
<p>Par exemple, pour vérifier le système de fichiers de type ext3 sur la partition sda5</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fsck.ext3<span class="w"> </span>/dev/sda5
</pre></div>
</div>
<p>Si fsck vous informe de faire un fsck manuel, exécutez avec l’option -y</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fsck.ext3<span class="w"> </span>-y<span class="w"> </span>/dev/sda5
</pre></div>
</div>
</section>
<section id="monter-le-systeme-de-fichier">
<h2>Monter le système de fichier<a class="headerlink" href="#monter-le-systeme-de-fichier" title="Link to this heading">¶</a></h2>
<p>Monter le volume sda5 dans le répertoire <strong>/mnt/data</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mount<span class="w"> </span>-t<span class="w"> </span>ext4<span class="w"> </span>/dev/sda5<span class="w"> </span>/mnt/data
</pre></div>
</div>
<p>Monter un répertoire dans un autre répertoire. Monter le répertoire <strong>/media/sda5/moves</strong> dans le répertoire <strong>/home/user/videos</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mount<span class="w"> </span>-o<span class="w"> </span><span class="nb">bind</span><span class="w"> </span>/media/sda5/moves<span class="w"> </span>/home/user/videos
</pre></div>
</div>
<p>Editer le fichier ** ** pour un montage automatique au démarrage de la machine physique.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/dev/sda5<span class="w">   </span>/mnt/data<span class="w">           </span>ext4<span class="w"> </span>defaults<span class="w">       </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
/proc<span class="w">       </span>/chroot/mysql/proc<span class="w">  </span>none<span class="w"> </span>defaults,bind<span class="w">  </span><span class="m">0</span><span class="w"> </span><span class="m">0</span>
</pre></div>
</div>
</section>
<section id="reparer-un-systeme-de-fichiers">
<h2>Réparer un système de fichiers<a class="headerlink" href="#reparer-un-systeme-de-fichiers" title="Link to this heading">¶</a></h2>
<p>Si régulièrement fsck vous informe qu’il y a des erreurs sur votre système de fichiers, c’est qu’il y a peut-être des blocs défectueux.</p>
<p>Commencer par vérifier la partition avec la commande badblocks dans un mode non destructif, exemple avec la partition sda5</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>badblocks<span class="w"> </span>-n<span class="w"> </span>-s<span class="w"> </span>-v<span class="w"> </span>/dev/sda5
Vérification<span class="w"> </span>des<span class="w"> </span>blocs<span class="w"> </span>défectueux<span class="w"> </span>dans<span class="w"> </span>un<span class="w"> </span>mode<span class="w"> </span>non<span class="w"> </span>destructif<span class="w"> </span>de<span class="w"> </span>lecture-écriture
Du<span class="w"> </span>bloc<span class="w"> </span><span class="m">0</span><span class="w"> </span>au<span class="w"> </span>bloc<span class="w"> </span><span class="m">19535008</span>
Vérification<span class="w"> </span>des<span class="w"> </span>blocs<span class="w"> </span>défectueux<span class="w"> </span><span class="o">(</span><span class="nb">test</span><span class="w"> </span>non<span class="w"> </span>destructif<span class="w"> </span>de<span class="w"> </span>lecture-écriture<span class="o">)</span>
Test<span class="w"> </span>en<span class="w"> </span>cours<span class="w"> </span>avec<span class="w"> </span>un<span class="w"> </span>motif<span class="w"> </span>aléatoire<span class="w"> </span>:<span class="w">         </span><span class="m">1077632</span>/<span class="w">       </span><span class="m">19535007</span>
<span class="sb">```</span>bash

<span class="w"> </span>Ce<span class="w"> </span><span class="nb">test</span><span class="w"> </span>peut<span class="w"> </span>être<span class="w"> </span>plus<span class="w"> </span>ou<span class="w"> </span>moins<span class="w"> </span>long<span class="w"> </span>selon<span class="w"> </span>la<span class="w"> </span>taille<span class="w"> </span>de<span class="w"> </span>la<span class="w"> </span>partition.<span class="w"> </span>Si<span class="w"> </span>des<span class="w"> </span>blocs<span class="w"> </span>défectueux<span class="w"> </span>sont<span class="w"> </span>détectés<span class="w"> </span>par<span class="w"> </span>badblocks,<span class="w"> </span>il<span class="w"> </span>faut<span class="w"> </span>maintenant<span class="w"> </span>les<span class="w"> </span>marquer<span class="w"> </span>comme<span class="w"> </span>étant<span class="w"> </span>inutilisable,<span class="w"> </span>exemple<span class="w"> </span>pour<span class="w"> </span>un<span class="w"> </span>système<span class="w"> </span>de<span class="w"> </span>fichier<span class="w"> </span>de<span class="w"> </span><span class="nb">type</span><span class="w"> </span>ext2/ext3<span class="w"> </span>avec<span class="w"> </span>la<span class="w"> </span>partition<span class="w"> </span>sda5

<span class="sb">```</span>bash
e2fsck<span class="w"> </span>-c<span class="w"> </span>/dev/sda5
</pre></div>
</div>
<p><strong>e2fsck</strong> va exécuter <strong>badblocks</strong>, marquer les blocs défectueux et les ajouter à l’inode des blocs défectueux. Si vous souhaitez arrêter badblocks ou e2fsck, il faut le faire proprement. Il faut d’envoyer le signal TERM au processus, exemple :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">kill</span><span class="w"> </span>-s<span class="w"> </span>TERM<span class="w"> </span><span class="s1">&#39;pidof badblocks&#39;</span>
</pre></div>
</div>
</section>
<section id="test-de-disques-durs">
<h2>Test de disques durs<a class="headerlink" href="#test-de-disques-durs" title="Link to this heading">¶</a></h2>
<p>Pour tester la rapidité de lecture de votre disque dur</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hdparm<span class="w">  </span>-t<span class="w"> </span>/dev/sda

/dev/sda:
Timing<span class="w"> </span>buffered<span class="w"> </span>disk<span class="w"> </span>reads:<span class="w">  </span><span class="m">164</span><span class="w"> </span>MB<span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="m">3</span>.03<span class="w"> </span><span class="nv">seconds</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="m">54</span>.15<span class="w"> </span>MB/sec
</pre></div>
</div>
<p>Pour tester la rapidité de lecture du cache de votre disque dur</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hdparm<span class="w">  </span>-T<span class="w"> </span>/dev/sda

/dev/sda:
Timing<span class="w"> </span>cached<span class="w"> </span>reads:<span class="w">   </span><span class="m">980</span><span class="w"> </span>MB<span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="m">2</span>.00<span class="w"> </span><span class="nv">seconds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">489</span>.46<span class="w"> </span>MB/sec
</pre></div>
</div>
</section>
<section id="informations-sur-le-disque-dur">
<h2>Informations sur le disque dur<a class="headerlink" href="#informations-sur-le-disque-dur" title="Link to this heading">¶</a></h2>
<p>Connaître sa géométrie (nombre de cylindres, secteurs …)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hdparm<span class="w">  </span>-g<span class="w"> </span>/dev/sda
</pre></div>
</div>
<p>Les informations sur l’identité du disque dur</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hdparm<span class="w">  </span>-i<span class="w"> </span>/dev/sda
</pre></div>
</div>
</section>
<section id="technologie-s-m-a-r-t">
<h2>Technologie S.M.A.R.T.<a class="headerlink" href="#technologie-s-m-a-r-t" title="Link to this heading">¶</a></h2>
<p>La plupart des constructeurs de disques durs intègrent sur leurs produits la technologie S.M.A.R.T. (Self Monitoring and Reporting Technology). Cette technologie permet de surveiller les caractéristiques techniques du disque dur (température, erreurs, cycle de mise sous tension…) et ce, afin de prévenir d’une défaillance du matériel. Pour consulter ces paramètres sous Linux, il faut installer smartmontools, un paquet doit probablement exister pour votre distribution. Pour activer la technologie smart sur votre disque dur.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>smartctl<span class="w"> </span>-s<span class="w"> </span>on<span class="w"> </span>/dev/sda

<span class="o">===</span><span class="w"> </span>START<span class="w"> </span>OF<span class="w"> </span>ENABLE/DISABLE<span class="w"> </span>COMMANDS<span class="w"> </span><span class="nv">SECTION</span><span class="w"> </span><span class="o">===</span>
SMART<span class="w"> </span>Enabled.
</pre></div>
</div>
<p>Le service smartd, installé par smartmontools, est capable d’envoyer des mails en cas de problème sur votre disque, voir le fichier de configuration /etc/smartd.conf. Pour visualiser les informations smart du disque dur</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">smartctl</span> <span class="o">--</span><span class="nb">all</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda</span>

<span class="o">===</span> <span class="n">START</span> <span class="n">OF</span> <span class="n">INFORMATION</span> <span class="n">SECTION</span> <span class="o">===</span>
<span class="n">Model</span> <span class="n">Family</span><span class="p">:</span>     <span class="n">Maxtor</span> <span class="n">DiamondMax</span> <span class="mi">10</span> <span class="n">family</span> <span class="p">(</span><span class="n">ATA</span><span class="o">/</span><span class="mi">133</span> <span class="ow">and</span> <span class="n">SATA</span><span class="o">/</span><span class="mi">150</span><span class="p">)</span>
<span class="n">Device</span> <span class="n">Model</span><span class="p">:</span>     <span class="n">Maxtor</span> <span class="mi">6</span><span class="n">B120P0</span>
<span class="n">Serial</span> <span class="n">Number</span><span class="p">:</span>    <span class="n">B40KPVQH</span>
<span class="n">Firmware</span> <span class="n">Version</span><span class="p">:</span> <span class="n">BAH41B70</span>
<span class="n">User</span> <span class="n">Capacity</span><span class="p">:</span>    <span class="mi">122</span> <span class="mi">942</span> <span class="mi">324</span> <span class="mi">736</span> <span class="nb">bytes</span>
<span class="n">Device</span> <span class="ow">is</span><span class="p">:</span>        <span class="n">In</span> <span class="n">smartctl</span> <span class="n">database</span> <span class="p">[</span><span class="k">for</span> <span class="n">details</span> <span class="n">use</span><span class="p">:</span> <span class="o">-</span><span class="n">P</span> <span class="n">show</span><span class="p">]</span>
<span class="n">ATA</span> <span class="n">Version</span> <span class="ow">is</span><span class="p">:</span>   <span class="mi">7</span>
<span class="n">ATA</span> <span class="n">Standard</span> <span class="ow">is</span><span class="p">:</span>  <span class="n">ATA</span><span class="o">/</span><span class="n">ATAPI</span><span class="o">-</span><span class="mi">7</span> <span class="n">T13</span> <span class="mi">1532</span><span class="n">D</span> <span class="n">revision</span> <span class="mi">0</span>
<span class="n">Local</span> <span class="n">Time</span> <span class="ow">is</span><span class="p">:</span>    <span class="n">Sun</span> <span class="n">Dec</span>  <span class="mi">7</span> <span class="mi">00</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">16</span> <span class="mi">2008</span> <span class="n">CET</span>
<span class="n">SMART</span> <span class="n">support</span> <span class="ow">is</span><span class="p">:</span> <span class="n">Available</span> <span class="o">-</span> <span class="n">device</span> <span class="n">has</span> <span class="n">SMART</span> <span class="n">capability</span><span class="o">.</span>
<span class="n">SMART</span> <span class="n">support</span> <span class="ow">is</span><span class="p">:</span> <span class="n">Enabled</span>

<span class="o">===</span> <span class="n">START</span> <span class="n">OF</span> <span class="n">READ</span> <span class="n">SMART</span> <span class="n">DATA</span> <span class="n">SECTION</span> <span class="o">===</span>
<span class="n">SMART</span> <span class="n">overall</span><span class="o">-</span><span class="n">health</span> <span class="bp">self</span><span class="o">-</span><span class="n">assessment</span> <span class="n">test</span> <span class="n">result</span><span class="p">:</span> <span class="n">PASSED</span>
<span class="o">...</span>
<span class="n">SMART</span> <span class="n">Attributes</span> <span class="n">Data</span> <span class="n">Structure</span> <span class="n">revision</span> <span class="n">number</span><span class="p">:</span> <span class="mi">16</span>
<span class="n">Vendor</span> <span class="n">Specific</span> <span class="n">SMART</span> <span class="n">Attributes</span> <span class="k">with</span> <span class="n">Thresholds</span><span class="p">:</span>
<span class="n">ID</span><span class="c1"># ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE</span>
<span class="mi">3</span> <span class="n">Spin_Up_Time</span>            <span class="mh">0x0027</span>   <span class="mi">202</span>   <span class="mi">202</span>   <span class="mi">063</span>    <span class="n">Pre</span><span class="o">-</span><span class="n">fail</span>  <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">14443</span>
<span class="mi">4</span> <span class="n">Start_Stop_Count</span>        <span class="mh">0x0032</span>   <span class="mi">253</span>   <span class="mi">253</span>   <span class="mi">000</span>    <span class="n">Old_age</span>   <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">68</span>
<span class="mi">5</span> <span class="n">Reallocated_Sector_Ct</span>   <span class="mh">0x0033</span>   <span class="mi">253</span>   <span class="mi">253</span>   <span class="mi">063</span>    <span class="n">Pre</span><span class="o">-</span><span class="n">fail</span>  <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">0</span>
<span class="mi">6</span> <span class="n">Read_Channel_Margin</span>     <span class="mh">0x0001</span>   <span class="mi">253</span>   <span class="mi">253</span>   <span class="mi">100</span>    <span class="n">Pre</span><span class="o">-</span><span class="n">fail</span>  <span class="n">Offline</span>      <span class="o">-</span>       <span class="mi">0</span>
<span class="mi">7</span> <span class="n">Seek_Error_Rate</span>         <span class="mh">0x000a</span>   <span class="mi">253</span>   <span class="mi">252</span>   <span class="mi">000</span>    <span class="n">Old_age</span>   <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">0</span>
<span class="mi">8</span> <span class="n">Seek_Time_Performance</span>   <span class="mh">0x0027</span>   <span class="mi">250</span>   <span class="mi">239</span>   <span class="mi">187</span>    <span class="n">Pre</span><span class="o">-</span><span class="n">fail</span>  <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">62450</span>
<span class="mi">9</span> <span class="n">Power_On_Minutes</span>        <span class="mh">0x0032</span>   <span class="mi">250</span>   <span class="mi">250</span>   <span class="mi">000</span>    <span class="n">Old_age</span>   <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">1043</span><span class="n">h</span><span class="o">+</span><span class="mi">27</span><span class="n">m</span>
<span class="mi">10</span> <span class="n">Spin_Retry_Count</span>        <span class="mh">0x002b</span>   <span class="mi">253</span>   <span class="mi">252</span>   <span class="mi">157</span>    <span class="n">Pre</span><span class="o">-</span><span class="n">fail</span>  <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">0</span>
<span class="mi">11</span> <span class="n">Calibration_Retry_Count</span> <span class="mh">0x002b</span>   <span class="mi">253</span>   <span class="mi">252</span>   <span class="mi">223</span>    <span class="n">Pre</span><span class="o">-</span><span class="n">fail</span>  <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">0</span>
<span class="mi">12</span> <span class="n">Power_Cycle_Count</span>       <span class="mh">0x0032</span>   <span class="mi">247</span>   <span class="mi">247</span>   <span class="mi">000</span>    <span class="n">Old_age</span>   <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">2726</span>
<span class="mi">192</span> <span class="n">Power</span><span class="o">-</span><span class="n">Off_Retract_Count</span> <span class="mh">0x0032</span>   <span class="mi">253</span>   <span class="mi">253</span>   <span class="mi">000</span>    <span class="n">Old_age</span>   <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">0</span>
<span class="mi">193</span> <span class="n">Load_Cycle_Count</span>        <span class="mh">0x0032</span>   <span class="mi">253</span>   <span class="mi">253</span>   <span class="mi">000</span>    <span class="n">Old_age</span>   <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">0</span>
<span class="mi">194</span> <span class="n">Temperature_Celsius</span>     <span class="mh">0x0032</span>   <span class="mi">034</span>   <span class="mi">253</span>   <span class="mi">000</span>    <span class="n">Old_age</span>   <span class="n">Always</span>       <span class="o">-</span>       <span class="mi">32</span>
</pre></div>
</div>
<p>Il existe une interface graphique à smartmontools : GSmartControl. Sur debian/ubuntu, il est également possible d’installer smart-notifier, il s’agit d’un service tournant en tâche de fond affichant une fenêtre vous informant d’un problème matériel sur votre disque dur</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>smart-notifier
</pre></div>
</div>
</section>
<section id="les-disques-virtuels-linux">
<h2>Les disques virtuels Linux<a class="headerlink" href="#les-disques-virtuels-linux" title="Link to this heading">¶</a></h2>
<section id="creation-dun-disque-virtuel">
<h3>Création d’un disque virtuel<a class="headerlink" href="#creation-dun-disque-virtuel" title="Link to this heading">¶</a></h3>
<p>Créatioin d’un disque virtuel de 2Go</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/zero<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/data/vdisque1<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1M<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">2000</span>
</pre></div>
</div>
<p>Formatage en ext4 du disque virtuel</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkfs.ext4<span class="w"> </span>/data/vdisque1
</pre></div>
</div>
<p>Le montage du disque virtuel</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mount<span class="w"> </span>-o<span class="w"> </span>loop<span class="w"> </span>/data/vdisque1<span class="w"> </span>/mnt/vdisque1
</pre></div>
</div>
</section>
<section id="redimensionnement-dun-disque-virtuel">
<h3>Redimensionnement d’un disque virtuel<a class="headerlink" href="#redimensionnement-dun-disque-virtuel" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>losetup<span class="w"> </span>/dev/loop0<span class="w"> </span>vdisque1
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/zero<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1MiB<span class="w"> </span><span class="nv">of</span><span class="o">=</span>vdisque1<span class="w"> </span><span class="nv">conv</span><span class="o">=</span>notrunc<span class="w"> </span><span class="nv">oflag</span><span class="o">=</span>append<span class="w"> </span><span class="nv">count</span><span class="o">=</span>yyy
</pre></div>
</div>
<p>avec yyy le nombre de mega-octets</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>losetup<span class="w"> </span>-c<span class="w"> </span>/dev/loop0
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>resize2fs<span class="w"> </span>/dev/loop0<span class="w"> </span>512m
</pre></div>
</div>
<p>avec 512 en nouvelle taille</p>
</section>
</section>
<section id="chiffrage-dun-systeme-de-fichiers">
<h2>Chiffrage d’un système de fichiers<a class="headerlink" href="#chiffrage-dun-systeme-de-fichiers" title="Link to this heading">¶</a></h2>
<p>Loop-aes-utils est remplacer par cryptsetup.</p>
<p>Intallation de packages</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>cryptsetup
</pre></div>
</div>
<p>Création du système fichier, un volume virtuel, avec la commande dd</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/urandom<span class="w"> </span><span class="nv">of</span><span class="o">=</span>crypto.raw<span class="w"> </span><span class="nv">bs</span><span class="o">=</span>1k<span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">100000</span>
</pre></div>
</div>
<p>Montage et cryptage avec ase-256 du système de fichier</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>cryptsetup<span class="w"> </span>luksFormat<span class="w"> </span>crypto.raw
losetup<span class="w"> </span>-e<span class="w"> </span>aes-256<span class="w"> </span>/dev/loop0<span class="w"> </span>crypto.raw
</pre></div>
</div>
<p>Formatage du système de fichier</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkfs.ext4<span class="w"> </span>/dev/loop0
</pre></div>
</div>
<p>Démontage de la partion</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>losetup<span class="w"> </span>-d<span class="w"> </span>/dev/loop0
</pre></div>
</div>
<p>Montage du système de fichier cypter</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mount<span class="w"> </span>-t<span class="w"> </span>ext4<span class="w"> </span>crypto.raw<span class="w"> </span>/mnt<span class="w"> </span>-oencryption<span class="o">=</span>aes-256
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2010-2025, Jxtopher
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/jxtopher/" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Managing storage volumes</a><ul>
<li><a class="reference internal" href="#disk-partitioning">Disk partitioning</a></li>
<li><a class="reference internal" href="#creer-un-systeme-de-fichiers">Créer un système de fichiers</a><ul>
<li><a class="reference internal" href="#cree-des-volumes-zfs">Crée des volumes zfs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#verifier-un-systeme-de-fichiers">Vérifier un système de fichiers</a></li>
<li><a class="reference internal" href="#monter-le-systeme-de-fichier">Monter le système de fichier</a></li>
<li><a class="reference internal" href="#reparer-un-systeme-de-fichiers">Réparer un système de fichiers</a></li>
<li><a class="reference internal" href="#test-de-disques-durs">Test de disques durs</a></li>
<li><a class="reference internal" href="#informations-sur-le-disque-dur">Informations sur le disque dur</a></li>
<li><a class="reference internal" href="#technologie-s-m-a-r-t">Technologie S.M.A.R.T.</a></li>
<li><a class="reference internal" href="#les-disques-virtuels-linux">Les disques virtuels Linux</a><ul>
<li><a class="reference internal" href="#creation-dun-disque-virtuel">Création d’un disque virtuel</a></li>
<li><a class="reference internal" href="#redimensionnement-dun-disque-virtuel">Redimensionnement d’un disque virtuel</a></li>
</ul>
</li>
<li><a class="reference internal" href="#chiffrage-dun-systeme-de-fichiers">Chiffrage d’un système de fichiers</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    </body>
</html>