<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="../_static/favicon/favicon.svg" rel="icon" type="image/svg+xml">
    <link href="../_static/favicon/favicon-48x48.png" sizes="48x48" rel="icon" type="image/png">
    <link href="../_static/favicon/favicon-64x64.png" sizes="64x64" rel="icon" type="image/png">
    <link rel="apple-touch-icon" href="../_static/favicon/favicon-128x128.png" sizes="128x128" type="image/png">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HKPZNDVNZZ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-HKPZNDVNZZ');
    </script>
    <link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Firefox configuration" href="firefox-configuration.html" /><link rel="prev" title="chroot jail" href="chroot%20jail.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>Database disk footprint - Eggdoc</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css?v=b4b7a797" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/eggdoc.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Eggdoc</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/logo-light-mode.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/logo-dark-mode.svg" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../curiosity/index.html">Curiosity</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Curiosity</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../curiosity/TSP.html">Travelling salesman problem</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../curiosity/game-of-life.html">Game of life</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Game of life</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../curiosity/game-of-life/plot_n3/plot_n3.html">n = 3, <span class="math notranslate nohighlight">\(uniq_{count}\)</span> = 51</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../curiosity/n-queens-with-sat-solver.html">N-Queens with SAT Solver</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../curiosity/peaceable-armies-of-queens.html">Peaceable Armies of Queens</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Peaceable Armies of Queens</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../curiosity/peaceable-armies-of-queens/plot_n4/plot_n4.html">n = 4, count = 112</a></li>
<li class="toctree-l3"><a class="reference internal" href="../curiosity/peaceable-armies-of-queens/plot_n5/plot_n5.html">n = 5, count = 18</a></li>
<li class="toctree-l3"><a class="reference internal" href="../curiosity/peaceable-armies-of-queens/plot_n6/plot_n6.html">n = 6, count = 560</a></li>
<li class="toctree-l3"><a class="reference internal" href="../curiosity/peaceable-armies-of-queens/plot_n7/plot_n7.html">n = 7, count = 304</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../dev/index.html">Dev</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Dev</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev/analyze%20forensic.html">Tooling for analyze forensic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/app%20configuration.html">App configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/call%20function%20in%20c.html">Call function in C</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/debugging-with-gdb.html">Debugging with GDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/getting-started-apache-kafka.html">Getting started - Apache Kafka</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/nasm%20hellworld.html">NASM - Hello, World</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/profiling-tools.html">Profiling tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/pyplot-snippet.html">Pyplot snippet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/regular%20expression.html">Regular expression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/reverse-engineering.html">Reverse engineering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/shellcode%20windows.html">Shellcode for windows</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">SysAdmin</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of SysAdmin</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="data/index.html">Data management</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Data management</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="data/backup%20and%20integrity.html">Backup and integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="data/mdadm.html">Software raid - mdadm</a></li>
<li class="toctree-l3"><a class="reference internal" href="data/zpool.html">zpool setup</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="shell/index.html">Shell</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Shell</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="shell/monitoring-tools.html">Monitoring tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="shell/netkit.html">Lab of network - netkit</a></li>
<li class="toctree-l3"><a class="reference internal" href="shell/tmux.html">Tmux</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="chroot%20jail.html">chroot jail</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Database disk footprint</a></li>
<li class="toctree-l2"><a class="reference internal" href="firefox-configuration.html">Firefox configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="initramfs.html">Initramfs mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="lxc.html">Containers with LXC</a></li>
<li class="toctree-l2"><a class="reference internal" href="nginx.html">nginx</a></li>
<li class="toctree-l2"><a class="reference internal" href="server%20config.html">Server config</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="workstation%20config.html">Workstation config</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          

<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          
<style>
  .ss-layout-default-AB { grid-template-areas: 'A B'; }
  .ss-layout-default-A { grid-template-areas: 'A'; }
@media (max-width: 576px) {
  .ss-layout-sm-A_B { grid-template-areas: 'A' 'B'; }
  .ss-layout-sm-A { grid-template-areas: 'A'; }
}
</style>
<section class="tex2jax_ignore mathjax_ignore" id="database-disk-footprint">
<h1>Database disk footprint<a class="headerlink" href="#database-disk-footprint" title="Link to this heading">¶</a></h1>
<p><span class="sd-sphinx-override sd-badge sd-outline-primary sd-text-primary">2025</span></p>
<p>Databases are widely used throughout the world,.
The most popular are relational databases like Oracle, Mysql and PostgreSQL.
But also non-relational databases such as Mongodb, Cassandra and Redis.
There are many others used in various contexts and various types.</p>
<p>The purpose of this article is to analyse the disk footprint of databases like Mysql and PostgreSQL, also providing a brief comparison with SQLite and MongoDB.</p>
<section id="experimental-setup">
<h2>Experimental setup<a class="headerlink" href="#experimental-setup" title="Link to this heading">¶</a></h2>
<p>In this expeirments, we used MySql version 15.1 and PostgreSQL version 15.13 with default settings.
We created an empty database with one table name <code class="docutils literal notranslate"><span class="pre">footprint</span></code> without index.
The table has three columns: <code class="docutils literal notranslate"><span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">type</span></code> and <code class="docutils literal notranslate"><span class="pre">footprint</span></code>.
The size in bytes for for the first two fields is respsectively 4 and 5.
The <code class="docutils literal notranslate"><span class="pre">fingerprint</span></code> field stores binary data and its size varies depending on the inserted line.</p>
<p>The definition in SQL of the table is as follows:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" data-sync-group="tab" data-sync-id="tab1" for="sd-tab-item-0">
MySQL</label><div class="sd-tab-content docutils">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">footprint</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="n">footprint</span><span class="w"> </span><span class="nb">BLOB</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" data-sync-group="tab" data-sync-id="tab2" for="sd-tab-item-1">
PostgreSQL</label><div class="sd-tab-content docutils">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">footprint</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nb">CHAR</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="w">    </span><span class="n">footprint</span><span class="w"> </span><span class="n">BYTEA</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>In the experiments, we insert rows in batches with random data based on parameters such as the blob size.
For a total amount of data to insert, we measure the disk footprint in the contents folder the table data.</p>
</section>
<section id="parameters-studied">
<h2>Parameters studied<a class="headerlink" href="#parameters-studied" title="Link to this heading">¶</a></h2>
<p>We study the impact of several parameters (<a class="reference internal" href="#id1">tab. parameters studied</a>),
and in particular the impact on the disk footprint of parameter <code class="docutils literal notranslate"><span class="pre">blob</span> <span class="pre">size</span></code>.</p>
<div class="table-wrapper colwidths-auto docutils container" id="id1">
<table class="docutils align-default" id="id1">
<caption><span class="caption-number">Table 2 </span><span class="caption-text">List of parameters studied</span><a class="headerlink" href="#id1" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Blob size</p></td>
<td><p>[500, 40000] Bytes</p></td>
<td><p>Blob size</p></td>
</tr>
<tr class="row-odd"><td><p>Batch size</p></td>
<td><p>1 row</p></td>
<td><p>Number of lines to insert then commit at the end</p></td>
</tr>
<tr class="row-even"><td><p>Total inserted size</p></td>
<td><p>1 Go</p></td>
<td><p>Total amount of data inserted for one run</p></td>
</tr>
<tr class="row-odd"><td><p>innodb_page_size</p></td>
<td><p>16KB</p></td>
<td><p>Only MariaDB: innodb page size</p></td>
</tr>
</tbody>
</table>
</div>
<p>Depending on the experiment, the size of the blob, at each insertion the size may be the same or follow a distribution law with a mean and a standard deviation.</p>
<p>For a comprehensive comparison, we evaluate MariaDB v15.1, MongoDB v8.0.12, PostgreSQL v15.13, and SQLite3 across various scenarios. The execution environment is Debian 12 (bookworm).</p>
</section>
<section id="results">
<h2>Results<a class="headerlink" href="#results" title="Link to this heading">¶</a></h2>
<section id="table-size-growth-dynamics">
<h3>Table size growth dynamics<a class="headerlink" href="#table-size-growth-dynamics" title="Link to this heading">¶</a></h3>
<p>We analyze the growth dynamics of the disk footprint (<a class="reference internal" href="#dyamic-footprint-growth">fig. dynamics</a>), we insert data in batches of rows,
in our case the batch size is 1 and the number of bytes per line is fixed.
We observe that whatever the size of the blob and the database, the footprint growth is linear.</p>
<figure class="sphinx-subfigure align-center" id="dyamic-footprint-growth" style="width: 95%">
<div class="sphinx-subfigure-grid ss-layout-default-AB ss-layout-sm-A_B" style="display: grid; gap: 10px; grid-gap: 10px;">
<div class="sphinx-subfigure-area" style="display: flex; flex-direction: column; justify-content: center; align-items: center; grid-area: A;">
<img alt="" src="../_images/dynamic-mairadb-v15-1.svg" />
</div>
<div class="sphinx-subfigure-area" style="display: flex; flex-direction: column; justify-content: center; align-items: center; grid-area: B;">
<img alt="" src="../_images/dynamic-pgsql-v15-13.svg" />
</div>
</div>
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">Dynamic of disk fooprint for different blob size, in left MariaDB and in right PgSQL.</span><a class="headerlink" href="#dyamic-footprint-growth" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="blob-field-uniform-size">
<h3>Blob field: uniform size<a class="headerlink" href="#blob-field-uniform-size" title="Link to this heading">¶</a></h3>
<p>We analyse the impact on the footprint in function of the uniform blob size with total amount inserted data is 1Go.
We insert and commit each lines with a spcific blob size.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" data-sync-group="tab" data-sync-id="tab1" for="sd-tab-item-2">
MySQL and PostgreSQL</label><div class="sd-tab-content docutils">
<figure class="sphinx-subfigure align-center" id="id2" style="width: 95%">
<div class="sphinx-subfigure-grid ss-layout-default-AB ss-layout-sm-A_B" style="display: grid; gap: 10px; grid-gap: 10px;">
<div class="sphinx-subfigure-area" style="display: flex; flex-direction: column; justify-content: center; align-items: center; grid-area: A;">
<img alt="" src="../_images/disk-size-in-function-of-blob-size-mariadb.svg" />
</div>
<div class="sphinx-subfigure-area" style="display: flex; flex-direction: column; justify-content: center; align-items: center; grid-area: B;">
<img alt="" src="../_images/disk-size-in-function-of-blob-size-pgsql.svg" />
</div>
</div>
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">Disk fooprint in function of the blob size, in left MariaDB and in right PgSQL.</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" data-sync-group="tab" data-sync-id="tab2" for="sd-tab-item-3">
SQLite3</label><div class="sd-tab-content docutils">
<figure class="sphinx-subfigure align-center" id="id3" style="width: 95%">
<div class="sphinx-subfigure-grid ss-layout-default-A ss-layout-sm-A" style="display: grid; gap: 10px; grid-gap: 10px;">
<div class="sphinx-subfigure-area" style="display: flex; flex-direction: column; justify-content: center; align-items: center; grid-area: A;">
<img alt="" src="../_images/disk-size-in-function-of-blob-size-sqlite3.svg" />
</div>
</div>
<figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">Disk fooprint in function of the blob size for SQLite3.</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div>
<input id="sd-tab-item-4" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" data-sync-group="tab" data-sync-id="tab3" for="sd-tab-item-4">
MongoDB</label><div class="sd-tab-content docutils">
<figure class="sphinx-subfigure align-center" id="id4" style="width: 95%">
<div class="sphinx-subfigure-grid ss-layout-default-A ss-layout-sm-A" style="display: grid; gap: 10px; grid-gap: 10px;">
<div class="sphinx-subfigure-area" style="display: flex; flex-direction: column; justify-content: center; align-items: center; grid-area: A;">
<img alt="" src="../_images/disk-size-in-function-of-blob-size-mongodb.svg" />
</div>
</div>
<figcaption>
<p><span class="caption-number">Fig. 6 </span><span class="caption-text">Disk fooprint in function of the blob size for MongoDB.</span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</div>
</div>
<p>In function of the blob size, we observe the following elements:</p>
<ul class="simple">
<li><p>For MariaDB, the disk footprint to a significant impact on specific blob sizes: <code class="docutils literal notranslate"><span class="pre">5250</span></code>.</p></li>
<li><p>For PgSQL, the disk footprint is limited impact especially when the blob size is greater than 8000 Bytes.</p></li>
</ul>
<p>Besides, disk footprint variations, disk space consumption for mariadb can be up to double the space compared to the total amount inserted.</p>
</section>
<section id="mariadb-innodb-page-size">
<h3>MariaDB: innodb_page_size<a class="headerlink" href="#mariadb-innodb-page-size" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">innodb_page_size</span></code> parameter defines the page size for the InnoDB engine. Defaulting to 16KB, it’s recommended, according to the documentation, to align it with your storage device’s block size.</p>
<p>Depending on the <code class="docutils literal notranslate"><span class="pre">innodb_page_size</span></code> parameter, the impact on disk space varies significantly.
For example, with a 5250-byte BLOB and a page size increased from 16KB to 64KB, we can reduce the disk footprint by <code class="docutils literal notranslate"><span class="pre">26%</span></code>.
However, if this parameter is misconfigured, it can lead to significant disk space over-consumption. This is the case with BLOBs of 16,500 bytes, resulting in a consumption factor of 4.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head text-center"><p>innodb_page_size</p></th>
<th class="head text-center"><p>5250</p></th>
<th class="head text-center"><p>16500</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>16</p></td>
<td class="text-center"><p>1.58</p></td>
<td class="text-center"><p>2.01</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>32</p></td>
<td class="text-center"><p>1.28</p></td>
<td class="text-center"><p>2.03</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>64</p></td>
<td class="text-center"><p>1.18</p></td>
<td class="text-center"><p>4.04</p></td>
</tr>
</tbody>
</table>
</div>
<figure class="sphinx-subfigure align-center" id="id5" style="width: 95%">
<div class="sphinx-subfigure-grid ss-layout-default-AB ss-layout-sm-A_B" style="display: grid; gap: 10px; grid-gap: 10px;">
<div class="sphinx-subfigure-area" style="display: flex; flex-direction: column; justify-content: center; align-items: center; grid-area: A;">
<img alt="" src="../_images/disk-size-in-function-of-blob-size-mariadb-innodb_page_size-bigpicture.svg" />
</div>
<div class="sphinx-subfigure-area" style="display: flex; flex-direction: column; justify-content: center; align-items: center; grid-area: B;">
<img alt="" src="../_images/disk-size-in-function-of-blob-size-mariadb-innodb_page_size-zoom.svg" />
</div>
</div>
<figcaption>
<p><span class="caption-number">Fig. 7 </span><span class="caption-text">Disk fooprint in funciton of the blob size by <code class="docutils literal notranslate"><span class="pre">innodb_page_size</span></code> parameter for Mariadb,
in left bigpicutre and in right zoom on the blob size range value: [500, 15000].</span><a class="headerlink" href="#id5" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>In conclusion, it’s necessary to analyze the distribution of your data samples to effectively determine the optimal value for this parameter, as there is a sensitivity to this parameter that can positively or negatively affect the disk footprint.
If the statistical distribution of blob sizes cannot be determined, it is generally best to retain the default or recommended configuration.</p>
</section>
<section id="store-data-in-an-orderly-manner">
<h3>Store data in an orderly manner<a class="headerlink" href="#store-data-in-an-orderly-manner" title="Link to this heading">¶</a></h3>
<p>When we use variable sized blobs,
the order in which they are inserted into the table can influence its disk footprint size.
In the <a class="reference internal" href="#impact-of-ordering-on-disk-footprint">figure</a>, we notice that a ordered set by blob sizes results in a smaller disk footprint compared to a random ordering.</p>
<figure class="sphinx-subfigure align-center" id="impact-of-ordering-on-disk-footprint" style="width: 95%">
<div class="sphinx-subfigure-grid ss-layout-default-A ss-layout-sm-A" style="display: grid; gap: 10px; grid-gap: 10px;">
<div class="sphinx-subfigure-area" style="display: flex; flex-direction: column; justify-content: center; align-items: center; grid-area: A;">
<img alt="" src="../_images/dynamic-mairadb-1Go-partially-ordered-set.svg" />
</div>
</div>
<figcaption>
<p><span class="caption-number">Fig. 8 </span><span class="caption-text">Dynamic of disk fooprint for uniform distribution blob size dataset betwen <code class="docutils literal notranslate"><span class="pre">[4250,</span> <span class="pre">6250]</span></code> in Mariadb.</span><a class="headerlink" href="#impact-of-ordering-on-disk-footprint" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>The question we can ask ourselves is whether there is a better ordering relationship that allows us to minimize the disk footprint.</p>
</section>
</section>
<section id="links">
<h2>Links<a class="headerlink" href="#links" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://mariadb.org/">MariaDB</a></p></li>
<li><p><a class="reference external" href="https://www.postgresql.org/">PostgreSQL</a></p></li>
<li><p><a class="reference external" href="https://www.mdpi.com/1999-5903/16/10/382">A Performance Benchmark for the PostgreSQL and MySQL Databases</a></p></li>
</ul>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="firefox-configuration.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Firefox configuration</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="chroot%20jail.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">chroot jail</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2010-2025, Jxtopher
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/jxtopher/" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Database disk footprint</a><ul>
<li><a class="reference internal" href="#experimental-setup">Experimental setup</a></li>
<li><a class="reference internal" href="#parameters-studied">Parameters studied</a></li>
<li><a class="reference internal" href="#results">Results</a><ul>
<li><a class="reference internal" href="#table-size-growth-dynamics">Table size growth dynamics</a></li>
<li><a class="reference internal" href="#blob-field-uniform-size">Blob field: uniform size</a></li>
<li><a class="reference internal" href="#mariadb-innodb-page-size">MariaDB: innodb_page_size</a></li>
<li><a class="reference internal" href="#store-data-in-an-orderly-manner">Store data in an orderly manner</a></li>
</ul>
</li>
<li><a class="reference internal" href="#links">Links</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/tabs.js?v=3ee01567"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    </body>
</html>